<mat-toolbar color="primary">
  <button mat-icon-button (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <span class="spacer"></span>
  <button mat-button (click)="editing=false" *ngIf="editing">Done</button>
  <button mat-button (click)="editing=true" *ngIf="!editing">Edit</button>
</mat-toolbar>

<ng-container *ngIf="user">
    <div [hidden]="editing">
      <div class="profile">
        <div class="photoURL" [ngStyle]="{'background-image': 'url('+ user.photoURL +')'}"></div>
        <div class="profile-text">
          <h1>{{user.displayName}}</h1>
          <p>{{user.email}}</p>
        </div>
      </div>
    </div>
    <div [hidden]="!editing">
      <div class="profile">
        <mat-card>
          <mat-form-field>
            <input matInput placeholder="Update your name" [(ngModel)]="user.displayName">
            <mat-icon matSuffix (click)=updateProfile()>save</mat-icon>
            <mat-hint align="end">Save</mat-hint>
          </mat-form-field>
        </mat-card>
        <mat-card>
          <form (ngSubmit)="updateUser()">
            <mat-form-field>
              <input matInput placeholder="Update your website" name="website" [(ngModel)]="user.website">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Update your address" name="address" [(ngModel)]="user.address">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Update your birth date" name="birthDate" [(ngModel)]="user.birthDate">
            </mat-form-field>
            <br>
            <mat-form-field>
              <textarea matInput placeholder="Update your bio" name="bio" [(ngModel)]="user.bio"></textarea>
            </mat-form-field>
            <br>
            <button mat-raised-button type="submit" color="primary">Save</button>
          </form>
        </mat-card>
      </div>
    </div>
</ng-container>